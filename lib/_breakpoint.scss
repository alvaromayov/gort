////
/// @author Calvin Davis
////

/// @param {List} $query
/// @example scss
/// 	$mobile: max-width 560px;
/// 	$tablet: 561px 1024px;
/// 	$desktop: 1025px;
///
/// 	body {
/// 		@include breakpoint($mobile) {
/// 			font-size: 14px;
/// 		}
///
/// 		@include breakpoint($tablet) {
/// 			font-size: 16px;
/// 		}
///
/// 		@include breakpoint($desktop) {
/// 			font-size: 18px;
/// 		}
/// 	}
@mixin breakpoint($query) {
	$length: length($query);

	@if ($length == 1) {
		$a: nth($query, 1);
		$type-a: type-of($a);

		@if ($type-a == number) {
			@include _breakpoint-query(min-width, $a) {
				@content;
			}
		}
	}

	@else if ($length == 2) {
		$a: nth($query, 1);
		$type-a: type-of($a);
		$b: nth($query, 2);
		$type-b: type-of($b);

		@if $type-a == number and $type-b == number {
			@include _breakpoint-between-widths($a, $b) {
				@content;
			}
		}

		@if ($type-a == string and $type-b == number) {
			@include _breakpoint-query($a, $b) {
				@content;
			}
		}
	}
}

/// @param {Number} $min
/// @param {Number} $max
/// @access private
/// @todo Refactor into own file and add tests.
@mixin _breakpoint-between-widths($min, $max) {
	@media (min-width: $min) and (max-width: $max) {
		@content;
	}
}

/// @param {String} $property
/// @param {Number} $value
/// @access private
/// @todo Refactor into own file and add tests.
@mixin _breakpoint-query($property, $value) {
	@media ($property: $value) {
		@content;
	}
}